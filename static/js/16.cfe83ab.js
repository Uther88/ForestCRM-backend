(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"3IKl":function(t,e,o){},"6QFO":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-stepper",{ref:"stepper",staticClass:"justify-between",attrs:{contractable:"",color:"indigo"},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[o("q-step",{attrs:{name:"main",title:"Основные данные",icon:"assignment","active-icon":"assignment"}},[o("div",{staticClass:"row justify-around"},[o("div",{staticClass:"col-md-5 col-xs-12"},[o("q-field",{attrs:{label:"Организация"}},[o("q-select",{attrs:{placeholder:"Выберите из списка",filter:"",options:t.options.organizations.map(function(t){return{label:t.name,value:t.id}})},model:{value:t.form.organization,callback:function(e){t.$set(t.form,"organization",e)},expression:"form.organization"}})],1),o("q-field",{attrs:{label:"Участок"}},[o("q-select",{attrs:{placeholder:"Выберите из списка",filter:"",options:t.options.stations.map(function(t){return{label:t.name,value:t.id}})},model:{value:t.form.station,callback:function(e){t.$set(t.form,"station",e)},expression:"form.station"}})],1),o("q-field",{attrs:{label:"Отдел"}},[o("q-select",{attrs:{placeholder:"Выберите из списка",filter:"",options:t.$store.state.main.departaments},model:{value:t.form.departament,callback:function(e){t.$set(t.form,"departament",e)},expression:"form.departament"}})],1),o("q-field",{attrs:{label:"Мероприятие"}},[o("q-select",{attrs:{separator:"",filter:"","autofocus-filter":"",options:t.options.events.map(function(t){return{label:t.full_name,value:t.id}}),placeholder:"Выберите мероприятие"},model:{value:t.form.event,callback:function(e){t.$set(t.form,"event",e)},expression:"form.event"}})],1),o("q-field",{attrs:{label:"Трактор"}},[o("q-select",{attrs:{placeholder:"Выберите из списка",filter:"",options:t.options.cars.map(function(t){return{label:t.full_name,value:t.id}})},model:{value:t.form.car,callback:function(e){t.$set(t.form,"car",e)},expression:"form.car"}})],1),o("q-field",{attrs:{label:"Тракторист"}},[o("q-select",{attrs:{disable:!t.form.station,placeholder:"Выберите из списка",filter:"",options:t.options.workers.map(function(t){return{label:t.full_name,value:t.id}})},model:{value:t.form.driver,callback:function(e){t.$set(t.form,"driver",e)},expression:"form.driver"}})],1),o("q-field",{attrs:{label:"Бригадир"}},[o("q-select",{attrs:{disable:!t.form.station,placeholder:"Выберите из списка",filter:"",options:t.options.workers.map(function(t){return{label:t.full_name,value:t.id}})},model:{value:t.form.brigadier,callback:function(e){t.$set(t.form,"brigadier",e)},expression:"form.brigadier"}})],1),o("q-field",{attrs:{label:"Прицепщик"}},[o("q-select",{attrs:{disable:!t.form.station,placeholder:"Выберите из списка",filter:"",options:t.options.workers.map(function(t){return{label:t.full_name,value:t.id}})},model:{value:t.form.trailerman,callback:function(e){t.$set(t.form,"trailerman",e)},expression:"form.trailerman"}})],1),o("q-field",{attrs:{label:"Прицепное устройство"}},[o("q-input",{attrs:{type:"text"},model:{value:t.form.trailer,callback:function(e){t.$set(t.form,"trailer",e)},expression:"form.trailer"}})],1)],1),o("div",{staticClass:"col-md-5 col-xs-12"},[o("q-field",{staticClass:"text-center",attrs:{label:"Дата"}},[o("q-datetime",{attrs:{placeholder:"Выберите дату","default-view":"month",type:"date",value:t.form.date,format:"MM.YYYY","ok-label":"Выбрать",modal:""},on:{change:function(e){t.form.date=new Date(e).toDateString()}}})],1),o("q-field",{attrs:{label:"Табельный номер"}},[o("q-input",{attrs:{type:"text"},model:{value:t.form.table_number,callback:function(e){t.$set(t.form,"table_number",e)},expression:"form.table_number"}})],1),o("q-field",{attrs:{label:"Премия"}},[o("q-input",{attrs:{type:"number"},model:{value:t.form.bonus,callback:function(e){t.$set(t.form,"bonus",e)},expression:"form.bonus"}})],1),o("q-field",{attrs:{label:"Сложность"}},[o("q-input",{attrs:{type:"number"},model:{value:t.form.complexity,callback:function(e){t.$set(t.form,"complexity",e)},expression:"form.complexity"}})],1),o("q-field",{attrs:{label:"Классность"}},[o("q-input",{attrs:{type:"number"},model:{value:t.form.classines,callback:function(e){t.$set(t.form,"classines",e)},expression:"form.classines"}})],1),o("q-field",{attrs:{label:"Бригада"}},[o("q-input",{attrs:{type:"text"},model:{value:t.form.brigade,callback:function(e){t.$set(t.form,"brigade",e)},expression:"form.brigade"}})],1),o("q-field",{attrs:{label:"Выдано топлива"}},[o("q-input",{attrs:{type:"number"},model:{value:t.form.fuel_issued,callback:function(e){t.$set(t.form,"fuel_issued",e)},expression:"form.fuel_issued"}})],1)],1)])]),o("q-step",{staticClass:"work-stepper",attrs:{name:"works",title:"Работы",icon:"border_all"}},[o("q-table",{staticClass:"work-table fit",attrs:{data:t.form.works,columns:t.columns,dense:"","hide-bottom":"","table-style":"min-height: 50vh;"},scopedSlots:t._u([{key:"top",fn:function(e){return[o("q-btn",{attrs:{icon:"add",color:"positive",label:"Добавить",glossy:""},nativeOn:{click:function(e){t.workDialog=!t.workDialog}}}),o("q-modal",{attrs:{"no-backdrop-dismiss":"","content-classes":"","content-css":"max-height: 100%;"},on:{hide:t.resetWorkForm},model:{value:t.workDialog,callback:function(e){t.workDialog=e},expression:"workDialog"}},[o("q-toolbar",{attrs:{color:"indigo",glossy:""}},[o("q-toolbar-title",{attrs:{align:"center"}},[t._v("\n\t\t\t\t\t\t\tРабота тракториста\n\t\t\t\t\t\t")]),o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",icon:"close"}})],1),o("div",{staticClass:"work-form q-px-sm",style:t.$q.platform.is.desktop?"width: 40vw;":"width: 100vw;"},[o("div",{staticClass:"row justify-around"},[o("q-input",{staticClass:"col-8",attrs:{type:"text","stack-label":"Наименование работы"},model:{value:t.work_form.event,callback:function(e){t.$set(t.work_form,"event",e)},expression:"work_form.event"}}),o("q-datetime",{staticClass:"col-3",attrs:{align:"center",type:"date",format:"DD.MM",value:t.work_form.date,"stack-label":"Дата",modal:""},on:{change:function(e){t.work_form.date=new Date(e).toDateString()}}})],1),o("div",{staticClass:"row justify-around"},[o("div",{staticClass:"col-12 text-center round-borders text-white glossy q-py-sm shadow-1 q-my-sm bg-indigo"},[t._v("Адресная часть, площадь")]),o("q-input",{staticClass:"col-3",attrs:{align:"center","stack-label":"Квартал",type:"number"},model:{value:t.work_form.quarter,callback:function(e){t.$set(t.work_form,"quarter",e)},expression:"work_form.quarter"}}),o("q-input",{staticClass:"col-3",attrs:{align:"center","stack-label":"Выдел",type:"number"},model:{value:t.work_form.allotment,callback:function(e){t.$set(t.work_form,"allotment",e)},expression:"work_form.allotment "}}),o("q-input",{staticClass:"col-3",attrs:{align:"center","stack-label":"Площадь",type:"number"},model:{value:t.work_form.area,callback:function(e){t.$set(t.work_form,"area",e)},expression:"work_form.area"}})],1),o("div",{staticClass:"row justify-around"},[o("div",{staticClass:"col-12 round-borders text-center text-white glossy q-py-sm shadow-1 q-my-sm bg-indigo"},[t._v("Справочник")]),o("q-input",{staticClass:"col-3",attrs:{type:"text",align:"center","stack-label":"Наименование"},model:{value:t.work_form.ref_name,callback:function(e){t.$set(t.work_form,"ref_name",e)},expression:"work_form.ref_name"}}),o("q-input",{staticClass:"col-3",attrs:{type:"text",align:"center","stack-label":"Страница"},model:{value:t.work_form.ref_page,callback:function(e){t.$set(t.work_form,"ref_page",e)},expression:"work_form.ref_page"}}),o("q-select",{staticClass:"col-3",attrs:{align:"center","stack-label":"Ед. измерения",filter:"",options:t.$store.state.main.units},model:{value:t.work_form.units,callback:function(e){t.$set(t.work_form,"units",e)},expression:"work_form.units"}})],1),o("div",{staticClass:"row justify-around items-center q-pt-xs"},[o("q-input",{staticClass:"col-3",attrs:{type:"number",align:"center","stack-label":"Норма выработки"},model:{value:t.work_form.rate,callback:function(e){t.$set(t.work_form,"rate",e)},expression:"work_form.rate"}}),o("q-input",{staticClass:"col-3",attrs:{type:"number",align:"center","stack-label":"Расценка"},model:{value:t.work_form.pricing,callback:function(e){t.$set(t.work_form,"pricing",e)},expression:"work_form.pricing"}})],1),o("div",{staticClass:"row justify-around items-center"},[o("div",{staticClass:"col-12 round-borders text-center text-white glossy q-py-sm shadow-1 q-my-sm bg-indigo"},[t._v("Фактически выполнено")]),o("q-input",{staticClass:"col-3",attrs:{type:"number",align:"center","stack-label":"В натуре"},model:{value:t.work_form.complete_nature,callback:function(e){t.$set(t.work_form,"complete_nature",e)},expression:"work_form.complete_nature"}}),o("q-input",{staticClass:"col-3 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Сменных норм"},model:{value:t.work_form.complete_norms,callback:function(e){t.$set(t.work_form,"complete_norms",e)},expression:"work_form.complete_norms"}}),o("q-input",{staticClass:"col-3 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Отработано часов"},model:{value:t.work_form.hours,callback:function(e){t.$set(t.work_form,"hours",e)},expression:"work_form.hours"}})],1),o("div",{staticClass:"row justify-around items-center"},[o("div",{staticClass:"col-12 round-borders text-center text-white glossy q-py-sm shadow-1 q-my-sm bg-indigo"},[t._v("Оплата")]),o("q-input",{staticClass:"col-2 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Основная"},model:{value:t.work_form.amount,callback:function(e){t.$set(t.work_form,"amount",e)},expression:"work_form.amount"}}),o("q-input",{staticClass:"col-2 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Премия"},model:{value:t.work_form.bonus,callback:function(e){t.$set(t.work_form,"bonus",e)},expression:"work_form.bonus"}}),o("q-input",{staticClass:"col-2 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Сложность"},model:{value:t.work_form.complexity,callback:function(e){t.$set(t.work_form,"complexity",e)},expression:"work_form.complexity"}}),o("q-input",{staticClass:"col-2 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Классность"},model:{value:t.work_form.classines,callback:function(e){t.$set(t.work_form,"classines",e)},expression:"work_form.classines"}}),o("q-input",{staticClass:"col-2 shadow-1",attrs:{readonly:"","hide-underline":"",type:"number",align:"center","stack-label":"Всего"},model:{value:t.work_form.amount_total,callback:function(e){t.$set(t.work_form,"amount_total",e)},expression:"work_form.amount_total"}})],1),o("div",{staticClass:"row justify-around items-center"},[o("div",{staticClass:"col-12 round-borders text-center text-white glossy q-py-sm shadow-1 q-my-sm bg-indigo"},[t._v("Расход горючего")]),o("q-input",{staticClass:"col-3",attrs:{type:"number",align:"center","stack-label":"На ед. работы"},model:{value:t.work_form.fuel_per_unit,callback:function(e){t.$set(t.work_form,"fuel_per_unit",e)},expression:"work_form.fuel_per_unit"}}),o("q-input",{staticClass:"col-3 shadow-1",attrs:{type:"number",readonly:"","hide-underline":"",align:"center","stack-label":"Всего"},model:{value:t.work_form.fuel,callback:function(e){t.$set(t.work_form,"fuel",e)},expression:"work_form.fuel"}}),o("q-input",{staticClass:"col-3 shadow-1",attrs:{type:"number",readonly:"","hide-underline":"",align:"center","stack-label":"Фактически"},model:{value:t.work_form.fuel,callback:function(e){t.$set(t.work_form,"fuel",e)},expression:"work_form.fuel"}})],1),o("br")]),o("q-toolbar",{staticClass:"justify-around",attrs:{color:"indigo"}},[o("q-btn",{attrs:{icon:"save",label:"Сохранить",disabled:!t.workFormIsValid,glossy:"",color:"positive"},nativeOn:{click:function(e){t.saveWork()}}}),o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{icon:"close",label:"Отмена",color:"negative",glossy:""}})],1)],1)]}},{key:"body-cell-options",fn:function(e){return o("q-td",{staticStyle:{padding:"5px !important"},attrs:{props:e}},[o("q-btn-dropdown",{staticStyle:{width:"60px"},attrs:{icon:"menu",dense:"",color:"primary",glossy:""}},[o("q-list",{attrs:{link:"",separator:""}},[o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(o){t.editWork(e.row)}}},[o("q-item-side",{attrs:{icon:"edit",color:"primary"}}),o("q-item-main",{attrs:{label:"Редактировать"}})],1),o("q-item",{nativeOn:{click:function(o){t.form.works=t.form.works.filter(function(t){return t!==e.row})}}},[o("q-item-side",{attrs:{icon:"delete",color:"negative"}}),o("q-item-main",{attrs:{label:"Удалить"}})],1)],1)],1)],1)}},{key:"bottom-row",fn:function(e){return t.form.works.length>0?[o("q-tr",{staticClass:"text-bold footr"},[o("q-td",{attrs:{colspan:"9"}},[t._v("Итого:")]),o("q-td",[t._v(t._s(t.form.total_hours))]),o("q-td",{attrs:{colspan:"2"}}),o("q-td",[t._v(t._s(t.form.total_complete_nature))]),o("q-td",[t._v(t._s(t.form.total_complete_norms))]),o("q-td",[t._v(t._s(t.form.amount))]),o("q-td",[t._v(t._s(t.form.amount_bonus))]),o("q-td",[t._v(t._s(t.form.amount_complexity))]),o("q-td",[t._v(t._s(t.form.amount_classines))]),o("q-td",[t._v(t._s(t.form.amount_total))]),o("q-td"),o("q-td",[t._v(t._s(t.form.total_fuel))])],1)]:void 0}}])})],1),o("q-step",{staticClass:"fit",attrs:{name:"summary",title:"Итоги",icon:"assignment_turned_in","active-icon":"assignment_turned_in"}},[o("div",{staticClass:"row text-center flex-center"},[o("div",{staticClass:"col-10 q-card group"},[o("q-toolbar",{staticClass:"round-borders",staticStyle:{margin:"0"},attrs:{color:"indigo",glossy:""}},[o("q-toolbar-title",[t._v("Итоги")])],1),o("table",{staticClass:"q-table fit summary-table"},[o("tr",[o("td",{attrs:{width:"50%"}},[t._v("Отработано часов:")]),o("td",[t._v(t._s(t.form.total_hours))])]),o("tr",[o("td",[t._v("Выполнено в натуре:")]),o("td",[t._v(t._s(t.form.total_complete_nature))])]),o("tr",[o("td",[t._v("Выполнено норм:")]),o("td",[t._v(t._s(t.form.total_complete_norms))])]),o("tr",[o("td",[t._v("Оплата, основная:")]),o("td",[t._v(t._s(t.form.amount))])]),o("tr",[o("td",[t._v("Оплата, премия:")]),o("td",[t._v(t._s(t.form.amount_bonus))])]),o("tr",[o("td",[t._v("Оплата, сложность:")]),o("td",[t._v(t._s(t.form.amount_complexity))])]),o("tr",[o("td",[t._v("Оплата, классность:")]),o("td",[t._v(t._s(t.form.amount_classines))])]),o("tr",[o("td",[t._v("Оплата, Всего:")]),o("td",[t._v(t._s(t.form.amount_total))])]),o("tr",[o("td",[t._v("Расход горючего:")]),o("td",[t._v(t._s(t.form.total_fuel))])]),o("tr",[o("td",[t._v("Остаток горючего при выдаче листа:")]),o("td",[t._v(t._s(t.form.fuel_dep))])]),o("tr",[o("td",[t._v("Получено (заправлено) горючего:")]),o("td",[t._v(t._s(t.form.fuel_issued))])]),o("tr",[o("td",[t._v("Остаток горючего при сдаче листа:")]),o("td",[t._v(t._s(t.form.fuel_ret))])])])],1)])]),o("q-stepper-navigation",[o("div",{staticClass:"group q-pa-sm row fit justify-center"},[o("q-btn",{attrs:{glossy:"",label:"Назад",disabled:"main"==t.step,color:"primary",icon:"arrow_left"},nativeOn:{click:function(e){t.$refs.stepper.previous()}}}),"summary"==t.step?o("q-btn",{attrs:{disabled:!t.formIsValid,label:"Сохранить",color:"positive",glossy:""},nativeOn:{click:function(e){t.saveRegForm()}}}):o("q-btn",{attrs:{disabled:!t.stepIsComplete,glossy:"",label:"Далее",color:"positive","icon-right":"arrow_right"},nativeOn:{click:function(e){t.$refs.stepper.next()}}}),"summary"==t.step?o("q-btn",{attrs:{disabled:!t.formIsValid,icon:"print",label:"Печать",color:"positive",glossy:""},nativeOn:{click:function(e){t.saveRegForm("print")}}}):t._e()],1)])],1)},a=[];r._withStripped=!0;o("hhXQ"),o("dRSK"),o("Vd3H"),o("yt8O"),o("RW0V"),o("rGqo");var l={name:"TractorRegFormNewPage",data:function(){return{step:"main",workDialog:!1,form:{organization:null,event:null,driver:null,car:null,trailerman:null,station:null,departament:null,brigadier:null,trailer:null,date:null,table_number:null,bonus:null,complexity:null,classines:null,brigade:null,works:[],total_hours:null,total_complete_nature:null,total_complete_norms:null,amount:null,amount_bonus:null,amount_complexity:null,amount_classines:null,amount_total:null,fuel_dep:null,fuel_issued:null,fuel_ret:null,total_fuel:null},work_form:{date:null,event:null,quarter:null,allotment:null,area:null,ref_name:null,ref_page:null,units:null,hours:null,rate:null,pricing:null,complete_nature:null,complete_norms:null,amount:null,bonus:null,complexity:null,classines:null,amount_total:null,fuel_per_unit:null,fuel:null},options:{workers:[],cars:[],organizations:[],stations:[],events:[]},required:["organization","station","event","car","driver","brigadier","date"],columns:[{name:"options",label:"Опции",field:"__index"},{name:"date",label:"Дата",field:function(t){return new Date(t.date).toLocaleDateString("ru",{day:"2-digit",month:"2-digit"})}},{name:"event",label:"Наименование",field:"event"},{name:"quarter",label:"Квартал",field:"quarter"},{name:"allotment",label:"Выдел",field:"allotment"},{name:"area",label:"Площадь",field:"area"},{name:"ref_name",label:"Справочник:\n наименование",field:"ref_name"},{name:"ref_page",label:"Справочник:\n страница",field:"ref_page"},{name:"units",label:"Ед.\n измерения",field:"units"},{name:"hours",label:"Часы",field:"hours"},{name:"rate",label:"Нормы\n выработки",field:"rate"},{name:"pricing",label:"Расценка",field:"pricing"},{name:"complete_nature",label:"Выполнено:\n в натуре",field:"complete_nature"},{name:"complete_norms",label:"Выполнено:\n норм",field:"complete_norms"},{name:"amount",label:"Оплата:\n основная",field:"amount"},{name:"bonus",label:"Оплата:\n премия",field:"bonus"},{name:"complexity",label:"Оплата:\n сложность",field:"complexity"},{name:"classines",label:"Оплата:\n классность",field:"classines"},{name:"amount_total",label:"Оплата:\n всего",field:"amount_total"},{name:"fuel_per_unit",label:"Расход горючего:\n на еденицу работы",field:"fuel_per_unit"},{name:"fuel",label:"Расход горючего:\n всего",field:"fuel"}]}},methods:{getOrganizations:function(){var t=this;this.$axios.get("/api/v1/organizations/").then(function(e){t.options.organizations=e.data.organizations}).catch(function(t){})},getStations:function(){var t=this;this.$axios.get("/api/v1/stations/").then(function(e){t.options.stations=e.data.stations}).catch(function(t){})},getCars:function(){var t=this,e={kind:"T"};this.$axios.get("/api/v1/car/",{params:e}).then(function(e){t.options.cars=e.data.cars}).catch(function(t){})},getWorkers:function(){var t=this,e=this.form.station,o={station:e};this.$axios.get("/api/v1/workers/",{params:o}).then(function(e){t.options.workers=e.data.workers}).catch(function(t){})},getEvents:function(){var t=this;this.$axios.get("/api/v1/outfit_events/").then(function(e){t.options.events=e.data.outfit_events}).catch(function(t){})},resetWorkForm:function(){var t=this;Object.keys(this.work_form).forEach(function(e){return t.work_form[e]=null})},calcWork:function(){var t=this.form.bonus,e=this.form.complexity,o=this.form.classines,r=this.work_form.rate,a=this.work_form.pricing,l=this.work_form.complete_nature,s=this.work_form.fuel_per_unit;if(r&&a&&l&&s){var n=s*l,i=l/r,c=a*i,m=c*t/100,u=c*e/100,f=c*o/100;this.work_form.complete_norms=this.work_form.hours=i.toFixed(2),this.work_form.amount=c.toFixed(2),this.work_form.bonus=m.toFixed(2),this.work_form.complexity=u.toFixed(2),this.work_form.classines=f.toFixed(2),this.work_form.amount_total=(c+m+u+f).toFixed(2),this.work_form.fuel=n.toFixed(2)}},saveWork:function(){if(this.workFormIsValid){var t=JSON.parse(JSON.stringify(this.work_form));t.hasOwnProperty("__index")&&null!=t["__index"]?(this.form.works[t["__index"]]=t,this.form.works.sort()):this.form.works.push(t),this.workDialog=!1}},editWork:function(t){var e=this;Object.keys(t).forEach(function(o){return e.work_form[o]=t[o]}),this.workDialog=!0},saveRegForm:function(t){var e=this;if(this.formIsValid){var o={headers:{"Content-Type":"application/json"}},r=JSON.stringify(this.form);this.$axios.post("/api/v1/tractor-regform/",r,o).then(function(o){if(t){var r=o.data.id;e.$router.push({name:"PrintRegForm",params:{id:r}})}else e.$router.push({name:"TractorRegForm"})}).catch(function(t){e.$q.notify({message:t.message,type:"negative",icon:"error"})})}}},mounted:function(){this.getOrganizations(),this.getStations(),this.getCars(),this.getEvents()},watch:{"form.station":function(t){t&&(this.form.driver=this.form.brigadier=this.form.trailerman=null,this.getWorkers())},"form.fuel_issued":function(t){t&&this.form.works.sort()},"form.car":function(t){if(t){var e=this.options.cars.find(function(e){return e.id==t});this.form.fuel_dep=e.fuel_balance,this.form.works.sort()}},"work_form.rate":function(t){t&&this.calcWork()},"work_form.complete_nature":function(t){t&&this.calcWork()},"work_form.pricing":function(t){t&&this.calcWork()},"work_form.fuel_per_unit":function(t){t&&this.calcWork()},"form.works":function(){var t=0,e=0,o=0,r=0,a=0,l=0,s=0,n=0,i=0;this.form.works.forEach(function(c){t+=parseFloat(c.hours),e+=parseFloat(c.complete_nature),o+=parseFloat(c.complete_norms),r+=parseFloat(c.amount),a+=parseFloat(c.bonus),l+=parseFloat(c.complexity),s+=parseFloat(c.classines),n+=parseFloat(c.amount_total),i+=parseFloat(c.fuel)});var c=this.form.fuel_issued||0;this.form.fuel_ret=(parseFloat(this.form.fuel_dep)+parseFloat(c)-i).toFixed(2),this.form.total_hours=t.toFixed(2),this.form.total_complete_nature=e.toFixed(2),this.form.total_complete_norms=o.toFixed(2),this.form.amount=r.toFixed(2),this.form.amount_bonus=a.toFixed(2),this.form.amount_complexity=l.toFixed(2),this.form.amount_classines=s.toFixed(2),this.form.amount_total=n.toFixed(2),this.form.total_fuel=i.toFixed(2)}},computed:{workFormIsValid:function(){return Object.values(this.work_form).every(function(t){return null!==t&&""!==t})},formIsValid:function(){var t=this;if(this.form.works.length>0&&this.required.every(function(e){return null!=t.form[e]}))return!0},stepIsComplete:function(){var t=this;switch(this.step){case"main":return this.required.every(function(e){return null!==t.form[e]});case"works":return this.form.works.length>0;default:return!1}}}},s=l,n=(o("nVHG"),o("KHd+")),i=Object(n["a"])(s,r,a,!1,null,null,null);e["default"]=i.exports},UExd:function(t,e,o){var r=o("DVgA"),a=o("aCFj"),l=o("UqcF").f;t.exports=function(t){return function(e){var o,s=a(e),n=r(s),i=n.length,c=0,m=[];while(i>c)l.call(s,o=n[c++])&&m.push(t?[o,s[o]]:s[o]);return m}}},hhXQ:function(t,e,o){var r=o("XKFU"),a=o("UExd")(!1);r(r.S,"Object",{values:function(t){return a(t)}})},nVHG:function(t,e,o){"use strict";var r=o("3IKl"),a=o.n(r);a.a}}]);